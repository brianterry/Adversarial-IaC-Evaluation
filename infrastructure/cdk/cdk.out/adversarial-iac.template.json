{
 "Description": "Adversarial IaC Evaluation - Complete Infrastructure",
 "Resources": {
  "ExperimentBucket20031DA2": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "BucketName": "adversarial-iac-experiments-245140949764",
    "LifecycleConfiguration": {
     "Rules": [
      {
       "ExpirationInDays": 90,
       "Id": "CleanupOldExperiments",
       "NoncurrentVersionExpiration": {
        "NoncurrentDays": 30
       },
       "Status": "Enabled"
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:auto-delete-objects",
      "Value": "true"
     }
    ],
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/ExperimentBucket/Resource"
   }
  },
  "ExperimentBucketPolicy117895B5": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "ExperimentBucket20031DA2"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:PutBucketPolicy"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
          "Arn"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "ExperimentBucket20031DA2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ExperimentBucket20031DA2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/ExperimentBucket/Policy/Resource"
   }
  },
  "ExperimentBucketAutoDeleteObjectsCustomResource0838ADEC": {
   "Type": "Custom::S3AutoDeleteObjects",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "ExperimentBucket20031DA2"
    }
   },
   "DependsOn": [
    "ExperimentBucketPolicy117895B5"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/ExperimentBucket/AutoDeleteObjectsCustomResource/Default"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-245140949764-us-west-2",
     "S3Key": "faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      "Arn"
     ]
    },
    "Runtime": "nodejs22.x",
    "Description": {
     "Fn::Join": [
      "",
      [
       "Lambda function for auto-deleting objects in ",
       {
        "Ref": "ExperimentBucket20031DA2"
       },
       " S3 bucket."
      ]
     ]
    }
   },
   "DependsOn": [
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092"
   ],
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",
    "aws:asset:path": "asset.faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6",
    "aws:asset:property": "Code"
   }
  },
  "NotificationTopicEB7A0DF1": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "TopicName": "adversarial-iac-notifications"
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/NotificationTopic/Resource"
   }
  },
  "StepFunctionsLogGroup8EBFF7CF": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/stepfunctions/adversarial-iac",
    "RetentionInDays": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/StepFunctionsLogGroup/Resource"
   }
  },
  "LambdaRole3A44B857": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "RoleName": "adversarial-iac-lambda-role"
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/LambdaRole/Resource"
   }
  },
  "LambdaRoleDefaultPolicy75625A82": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "bedrock:CreateModelInvocationJob",
        "bedrock:GetModelInvocationJob",
        "bedrock:InvokeModel",
        "bedrock:InvokeModelWithResponseStream",
        "bedrock:ListModelInvocationJobs",
        "cloudwatch:PutMetricData"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ExperimentBucket20031DA2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ExperimentBucket20031DA2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": {
        "Ref": "NotificationTopicEB7A0DF1"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "LambdaRoleDefaultPolicy75625A82",
    "Roles": [
     {
      "Ref": "LambdaRole3A44B857"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/LambdaRole/DefaultPolicy/Resource"
   }
  },
  "StepFunctionsRole575CBBE2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "states.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "RoleName": "adversarial-iac-sfn-role"
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/StepFunctionsRole/Resource"
   }
  },
  "StepFunctionsRoleDefaultPolicy14E0B433": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        "arn:aws:lambda:us-west-2:245140949764:function:adversarial-iac-*",
        {
         "Fn::GetAtt": [
          "RunGame4ECBEE23",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "RunGame4ECBEE23",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "bedrock:CreateModelInvocationJob",
        "bedrock:GetModelInvocationJob",
        "logs:CreateLogDelivery",
        "logs:DeleteLogDelivery",
        "logs:DescribeLogGroups",
        "logs:DescribeResourcePolicies",
        "logs:GetLogDelivery",
        "logs:ListLogDeliveries",
        "logs:PutLogEvents",
        "logs:PutResourcePolicy",
        "logs:UpdateLogDelivery"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ExperimentBucket20031DA2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ExperimentBucket20031DA2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": {
        "Ref": "NotificationTopicEB7A0DF1"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "StepFunctionsRoleDefaultPolicy14E0B433",
    "Roles": [
     {
      "Ref": "StepFunctionsRole575CBBE2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/StepFunctionsRole/DefaultPolicy/Resource"
   }
  },
  "BedrockBatchRole468B3A82": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "bedrock.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "RoleName": "adversarial-iac-bedrock-role"
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/BedrockBatchRole/Resource"
   }
  },
  "BedrockBatchRoleDefaultPolicy14C97418": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ExperimentBucket20031DA2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "ExperimentBucket20031DA2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "BedrockBatchRoleDefaultPolicy14C97418",
    "Roles": [
     {
      "Ref": "BedrockBatchRole468B3A82"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/BedrockBatchRole/DefaultPolicy/Resource"
   }
  },
  "GenerateRedPrompts95AE2D53": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-245140949764-us-west-2",
     "S3Key": "bc695d666d242d2470b2d2c967e27634a42cfd25dc6f6c08181f29845a5fed43.zip"
    },
    "Environment": {
     "Variables": {
      "LOG_LEVEL": "INFO",
      "BUCKET_NAME": {
       "Ref": "ExperimentBucket20031DA2"
      }
     }
    },
    "FunctionName": "adversarial-iac-generate-red-prompts",
    "Handler": "generate_red_prompts.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "LambdaRole3A44B857",
      "Arn"
     ]
    },
    "Runtime": "python3.11",
    "Timeout": 300
   },
   "DependsOn": [
    "LambdaRoleDefaultPolicy75625A82",
    "LambdaRole3A44B857"
   ],
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/GenerateRedPrompts/Resource",
    "aws:asset:path": "asset.bc695d666d242d2470b2d2c967e27634a42cfd25dc6f6c08181f29845a5fed43",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ProcessRedOutputs8F99BC31": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-245140949764-us-west-2",
     "S3Key": "bc695d666d242d2470b2d2c967e27634a42cfd25dc6f6c08181f29845a5fed43.zip"
    },
    "Environment": {
     "Variables": {
      "LOG_LEVEL": "INFO",
      "BUCKET_NAME": {
       "Ref": "ExperimentBucket20031DA2"
      }
     }
    },
    "FunctionName": "adversarial-iac-process-red-outputs",
    "Handler": "process_red_outputs.handler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "LambdaRole3A44B857",
      "Arn"
     ]
    },
    "Runtime": "python3.11",
    "Timeout": 600
   },
   "DependsOn": [
    "LambdaRoleDefaultPolicy75625A82",
    "LambdaRole3A44B857"
   ],
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/ProcessRedOutputs/Resource",
    "aws:asset:path": "asset.bc695d666d242d2470b2d2c967e27634a42cfd25dc6f6c08181f29845a5fed43",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "RunJudge1F2F8FB8": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-245140949764-us-west-2",
     "S3Key": "bc695d666d242d2470b2d2c967e27634a42cfd25dc6f6c08181f29845a5fed43.zip"
    },
    "Environment": {
     "Variables": {
      "LOG_LEVEL": "INFO",
      "BUCKET_NAME": {
       "Ref": "ExperimentBucket20031DA2"
      },
      "NOTIFICATION_TOPIC_ARN": {
       "Ref": "NotificationTopicEB7A0DF1"
      }
     }
    },
    "FunctionName": "adversarial-iac-run-judge",
    "Handler": "run_judge.handler",
    "MemorySize": 2048,
    "Role": {
     "Fn::GetAtt": [
      "LambdaRole3A44B857",
      "Arn"
     ]
    },
    "Runtime": "python3.11",
    "Timeout": 900
   },
   "DependsOn": [
    "LambdaRoleDefaultPolicy75625A82",
    "LambdaRole3A44B857"
   ],
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/RunJudge/Resource",
    "aws:asset:path": "asset.bc695d666d242d2470b2d2c967e27634a42cfd25dc6f6c08181f29845a5fed43",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "RunGame4ECBEE23": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-245140949764-us-west-2",
     "S3Key": "504fa0508f3aba42b31d8c42d90154f767886f262625f684b2267ec28f0ff10b.zip"
    },
    "Environment": {
     "Variables": {
      "LOG_LEVEL": "INFO",
      "BUCKET_NAME": {
       "Ref": "ExperimentBucket20031DA2"
      }
     }
    },
    "FunctionName": "adversarial-iac-run-game",
    "Handler": "run_game.handler",
    "MemorySize": 3008,
    "Role": {
     "Fn::GetAtt": [
      "LambdaRole3A44B857",
      "Arn"
     ]
    },
    "Runtime": "python3.11",
    "Timeout": 900
   },
   "DependsOn": [
    "LambdaRoleDefaultPolicy75625A82",
    "LambdaRole3A44B857"
   ],
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/RunGame/Resource",
    "aws:asset:path": "asset.504fa0508f3aba42b31d8c42d90154f767886f262625f684b2267ec28f0ff10b",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ExperimentWorkflowD959220B": {
   "Type": "AWS::StepFunctions::StateMachine",
   "Properties": {
    "DefinitionString": {
     "Fn::Join": [
      "",
      [
       "{\"StartAt\":\"RunGamesMap\",\"States\":{\"RunGamesMap\":{\"Type\":\"Map\",\"ResultPath\":\"$.game_results\",\"Next\":\"SendNotification\",\"ItemsPath\":\"$.games\",\"ItemProcessor\":{\"ProcessorConfig\":{\"Mode\":\"INLINE\"},\"StartAt\":\"RunGameTask\",\"States\":{\"RunGameTask\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2},{\"ErrorEquals\":[\"Lambda.ServiceException\",\"Lambda.TooManyRequestsException\"],\"IntervalSeconds\":30,\"MaxAttempts\":3,\"BackoffRate\":2},{\"ErrorEquals\":[\"ThrottlingException\"],\"IntervalSeconds\":60,\"MaxAttempts\":5,\"BackoffRate\":2}],\"Type\":\"Task\",\"ResultSelector\":{\"game_id.$\":\"$.Payload.game_id\",\"status.$\":\"$.Payload.status\",\"scoring.$\":\"$.Payload.scoring\"},\"Resource\":\"arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",
       {
        "Fn::GetAtt": [
         "RunGame4ECBEE23",
         "Arn"
        ]
       },
       "\",\"Payload.$\":\"$\"}}}},\"MaxConcurrency\":1},\"SendNotification\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":states:::sns:publish\",\"Parameters\":{\"TopicArn\":\"",
       {
        "Ref": "NotificationTopicEB7A0DF1"
       },
       "\",\"Message\":\"Experiment complete! Check results in S3.\",\"Subject\":\"Adversarial IaC Experiment Complete\"}}}}"
      ]
     ]
    },
    "LoggingConfiguration": {
     "Destinations": [
      {
       "CloudWatchLogsLogGroup": {
        "LogGroupArn": {
         "Fn::GetAtt": [
          "StepFunctionsLogGroup8EBFF7CF",
          "Arn"
         ]
        }
       }
      }
     ],
     "Level": "ALL"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "StepFunctionsRole575CBBE2",
      "Arn"
     ]
    },
    "StateMachineName": "adversarial-iac-experiment"
   },
   "DependsOn": [
    "StepFunctionsRoleDefaultPolicy14E0B433",
    "StepFunctionsRole575CBBE2"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/ExperimentWorkflow/Resource"
   }
  },
  "Dashboard9E4231ED": {
   "Type": "AWS::CloudWatch::Dashboard",
   "Properties": {
    "DashboardBody": {
     "Fn::Join": [
      "",
      [
       "{\"widgets\":[{\"type\":\"text\",\"width\":24,\"height\":1,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"# ðŸ”¬ Adversarial IaC Experiments\"}},{\"type\":\"metric\",\"width\":6,\"height\":4,\"x\":0,\"y\":1,\"properties\":{\"view\":\"singleValue\",\"title\":\"Games Completed\",\"region\":\"",
       {
        "Ref": "AWS::Region"
       },
       "\",\"metrics\":[[\"AdversarialIaC/Experiments\",\"GameCompleted\",{\"period\":86400,\"stat\":\"Sum\"}]]}},{\"type\":\"metric\",\"width\":6,\"height\":4,\"x\":6,\"y\":1,\"properties\":{\"view\":\"gauge\",\"title\":\"Avg Precision\",\"region\":\"",
       {
        "Ref": "AWS::Region"
       },
       "\",\"metrics\":[[\"AdversarialIaC/Experiments\",\"Precision\",{\"period\":3600}]],\"yAxis\":{\"left\":{\"min\":0,\"max\":100}}}},{\"type\":\"metric\",\"width\":6,\"height\":4,\"x\":12,\"y\":1,\"properties\":{\"view\":\"gauge\",\"title\":\"Avg Evasion Rate\",\"region\":\"",
       {
        "Ref": "AWS::Region"
       },
       "\",\"metrics\":[[\"AdversarialIaC/Experiments\",\"EvasionRate\",{\"period\":3600}]],\"yAxis\":{\"left\":{\"min\":0,\"max\":100}}}}]}"
      ]
     ]
    },
    "DashboardName": "adversarial-iac-experiments"
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/Dashboard/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/1VQ0W7CMAz8Ft5Dxig/MJiGJg2tgr0jNw1t1jauageEovz7mrbAeLrznZ1zvJTL1UIuZnChucqreW0y6Q8MqhK9dPSUSL92qtIsNic7sRFSrI26PuSpHos1kA6CLEn/g61RsW0gQdRY9OoXFtsOXRuNGw/CQCP9Hmsd5QEfKSPr56HJcpD+w1nFBm30bryPTI5ApJnkWwRBrNvT5NKRgaoYPjzxac9YaXGwlLqsNlSG527pd9CK/hisd6BKY4et/tdBqBpdfgFWpfTvQGWG0OWx7V6EIDaOGJu9JnSdGr92509W2uHZ5LqL1xPD/n1aYWwRZ74dt46DSK9con1J5OtKJrNfMmbeOcum0XI/4h9M0BNk1QEAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "adversarial-iac/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "BucketName": {
   "Value": {
    "Ref": "ExperimentBucket20031DA2"
   }
  },
  "BucketArn": {
   "Value": {
    "Fn::GetAtt": [
     "ExperimentBucket20031DA2",
     "Arn"
    ]
   }
  },
  "LambdaRoleArn": {
   "Value": {
    "Fn::GetAtt": [
     "LambdaRole3A44B857",
     "Arn"
    ]
   }
  },
  "StepFunctionsRoleArn": {
   "Value": {
    "Fn::GetAtt": [
     "StepFunctionsRole575CBBE2",
     "Arn"
    ]
   }
  },
  "BedrockRoleArn": {
   "Value": {
    "Fn::GetAtt": [
     "BedrockBatchRole468B3A82",
     "Arn"
    ]
   }
  },
  "NotificationTopicArn": {
   "Value": {
    "Ref": "NotificationTopicEB7A0DF1"
   }
  },
  "ExperimentWorkflowArn": {
   "Value": {
    "Ref": "ExperimentWorkflowD959220B"
   }
  },
  "DashboardURL": {
   "Value": "https://us-west-2.console.aws.amazon.com/cloudwatch/home?region=us-west-2#dashboards:name=adversarial-iac-experiments"
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}